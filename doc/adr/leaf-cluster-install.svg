<svg xmlns="http://www.w3.org/2000/svg" width="1715.4765625px" height="461.71875px" class="sequence simple"><desc>Leaf Cluster Onboarding Sequence</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"/></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"/></marker></defs><g class="title"><rect x="10" y="10" width="318.0625" height="29.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="15" y="30" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">Leaf Cluster Onboarding Sequence</tspan></text></g><g class="actor"><rect x="10" y="49.171875" width="58.515625" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="20" y="74.171875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">User</tspan></text></g><g class="actor"><rect x="10" y="402.546875" width="58.515625" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="20" y="427.546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">User</tspan></text></g><line x1="39.2578125" x2="39.2578125" y1="88.34375" y2="402.546875" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="578.71875" y="49.171875" width="77.765625" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="588.71875" y="74.171875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="588.71875">gitops</tspan></text></g><g class="actor"><rect x="578.71875" y="402.546875" width="77.765625" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="588.71875" y="427.546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="588.71875">gitops</tspan></text></g><line x1="617.6015625" x2="617.6015625" y1="88.34375" y2="402.546875" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="1190.7578125" y="49.171875" width="125.90625" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1200.7578125" y="74.171875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1200.7578125">GitOps Repo</tspan></text></g><g class="actor"><rect x="1190.7578125" y="402.546875" width="125.90625" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1200.7578125" y="427.546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1200.7578125">GitOps Repo</tspan></text></g><line x1="1253.7109375" x2="1253.7109375" y1="88.34375" y2="402.546875" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="1336.6640625" y="49.171875" width="135.53125" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1346.6640625" y="74.171875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1346.6640625">Leaf Cluster</tspan></text></g><g class="actor"><rect x="1336.6640625" y="402.546875" width="135.53125" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1346.6640625" y="427.546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1346.6640625">Leaf Cluster</tspan></text></g><line x1="1404.4296875" x2="1404.4296875" y1="88.34375" y2="402.546875" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="1492.1953125" y="49.171875" width="193.28125" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1502.1953125" y="74.171875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1502.1953125">Management Cluster</tspan></text></g><g class="actor"><rect x="1492.1953125" y="402.546875" width="193.28125" height="39.171875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1502.1953125" y="427.546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1502.1953125">Management Cluster</tspan></text></g><line x1="1588.8359375" x2="1588.8359375" y1="88.34375" y2="402.546875" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="signal"><text x="49.2578125" y="118.7578125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="49.2578125">gitops install --gitops-repo-url=github.com/my-org/my-repo</tspan></text><line x1="39.2578125" x2="617.6015625" y1="127.515625" y2="127.515625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="661.296875" y="157.9296875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="661.296875">&lt;does all of the things that gitops install already does&gt;</tspan></text><line x1="617.6015625" x2="1253.7109375" y1="166.6875" y2="166.6875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="775.1640625" y="197.1015625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="775.1640625">Creates a ServiceAccount with cluster admin privs</tspan></text><line x1="617.6015625" x2="1404.4296875" y1="205.859375" y2="205.859375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="678.8984375" y="236.2734375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="678.8984375">Create a RoleBinding for that ServiceAccount to the ClusterAdmin role</tspan></text><line x1="617.6015625" x2="1404.4296875" y1="245.03125" y2="245.03125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="756.65625" y="275.4453125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="756.65625">Adds the ServiceAccount kubeconfig to the Management Cluster as a Secret</tspan></text><line x1="617.6015625" x2="1588.8359375" y1="284.203125" y2="284.203125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="896.2421875" y="314.6171875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="896.2421875">Adds a Cluster CR to the Management Cluster</tspan></text><line x1="617.6015625" x2="1588.8359375" y1="323.375" y2="323.375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="627.6015625" y="353.7890625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="627.6015625">Writes the Cluster CR to the GitOps Repo .weave-gitops directory</tspan></text><line x1="617.6015625" x2="1253.7109375" y1="362.546875" y2="362.546875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="328.4296875" y="387.546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="328.4296875"/></text><line x1="617.6015625" x2="39.2578125" y1="382.546875" y2="382.546875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g></svg>